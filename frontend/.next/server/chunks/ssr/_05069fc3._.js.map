{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/peibo/Desktop/threadhub/frontend/src/lib/actions.ts"],"sourcesContent":["'use server';\n\nimport { z } from 'zod';\nimport { createThread, addReply, getCurrentUser } from './data';\nimport { revalidatePath } from 'next/cache';\n\nconst createThreadSchema = z.object({\n  title: z.string().min(5, 'Title must be at least 5 characters long.'),\n  content: z.string().min(10, 'Content must be at least 10 characters long.'),\n});\n\nexport async function createThreadAction(prevState: any, formData: FormData) {\n  const currentUser = await getCurrentUser();\n  if (!currentUser) {\n    return { message: 'You must be logged in to create a thread.', status: 'error' };\n  }\n\n  const validatedFields = createThreadSchema.safeParse({\n    title: formData.get('title'),\n    content: formData.get('content'),\n  });\n\n  if (!validatedFields.success) {\n    return {\n      errors: validatedFields.error.flatten().fieldErrors,\n      message: 'Validation failed. Please check your input.',\n      status: 'error',\n    };\n  }\n\n  try {\n    const newThread = await createThread(validatedFields.data.title, validatedFields.data.content, currentUser);\n    revalidatePath('/');\n    return { message: 'Thread created successfully!', status: 'success', threadId: newThread.id };\n  } catch (error) {\n    return { message: 'Failed to create thread.', status: 'error' };\n  }\n}\n\nconst addReplySchema = z.object({\n    content: z.string().min(1, 'Reply cannot be empty.'),\n    threadId: z.string(),\n});\n\nexport async function addReplyAction(prevState: any, formData: FormData) {\n    const currentUser = await getCurrentUser();\n    if (!currentUser) {\n        return { message: 'You must be logged in to reply.', status: 'error' };\n    }\n\n    const validatedFields = addReplySchema.safeParse({\n        content: formData.get('content'),\n        threadId: formData.get('threadId'),\n    });\n\n    if (!validatedFields.success) {\n        return {\n            errors: validatedFields.error.flatten().fieldErrors,\n            message: 'Validation failed.',\n            status: 'error',\n        };\n    }\n    \n    try {\n        await addReply(validatedFields.data.threadId, validatedFields.data.content, currentUser);\n        revalidatePath(`/threads/${validatedFields.data.threadId}`);\n        return { message: 'Reply added!', status: 'success' };\n    } catch (error) {\n        return { message: 'Failed to add reply.', status: 'error' };\n    }\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;;;;;;;AAEA,MAAM,qBAAqB,kKAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAClC,OAAO,kKAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACzB,SAAS,kKAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI;AAC9B;AAEO,eAAe,mBAAmB,SAAc,EAAE,QAAkB;IACzE,MAAM,cAAc,MAAM,CAAA,GAAA,kHAAA,CAAA,iBAAc,AAAD;IACvC,IAAI,CAAC,aAAa;QAChB,OAAO;YAAE,SAAS;YAA6C,QAAQ;QAAQ;IACjF;IAEA,MAAM,kBAAkB,mBAAmB,SAAS,CAAC;QACnD,OAAO,SAAS,GAAG,CAAC;QACpB,SAAS,SAAS,GAAG,CAAC;IACxB;IAEA,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC5B,OAAO;YACL,QAAQ,gBAAgB,KAAK,CAAC,OAAO,GAAG,WAAW;YACnD,SAAS;YACT,QAAQ;QACV;IACF;IAEA,IAAI;QACF,MAAM,YAAY,MAAM,CAAA,GAAA,kHAAA,CAAA,eAAY,AAAD,EAAE,gBAAgB,IAAI,CAAC,KAAK,EAAE,gBAAgB,IAAI,CAAC,OAAO,EAAE;QAC/F,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;QACf,OAAO;YAAE,SAAS;YAAgC,QAAQ;YAAW,UAAU,UAAU,EAAE;QAAC;IAC9F,EAAE,OAAO,OAAO;QACd,OAAO;YAAE,SAAS;YAA4B,QAAQ;QAAQ;IAChE;AACF;AAEA,MAAM,iBAAiB,kKAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC5B,SAAS,kKAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC3B,UAAU,kKAAA,CAAA,IAAC,CAAC,MAAM;AACtB;AAEO,eAAe,eAAe,SAAc,EAAE,QAAkB;IACnE,MAAM,cAAc,MAAM,CAAA,GAAA,kHAAA,CAAA,iBAAc,AAAD;IACvC,IAAI,CAAC,aAAa;QACd,OAAO;YAAE,SAAS;YAAmC,QAAQ;QAAQ;IACzE;IAEA,MAAM,kBAAkB,eAAe,SAAS,CAAC;QAC7C,SAAS,SAAS,GAAG,CAAC;QACtB,UAAU,SAAS,GAAG,CAAC;IAC3B;IAEA,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC1B,OAAO;YACH,QAAQ,gBAAgB,KAAK,CAAC,OAAO,GAAG,WAAW;YACnD,SAAS;YACT,QAAQ;QACZ;IACJ;IAEA,IAAI;QACA,MAAM,CAAA,GAAA,kHAAA,CAAA,WAAQ,AAAD,EAAE,gBAAgB,IAAI,CAAC,QAAQ,EAAE,gBAAgB,IAAI,CAAC,OAAO,EAAE;QAC5E,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE,CAAC,SAAS,EAAE,gBAAgB,IAAI,CAAC,QAAQ,EAAE;QAC1D,OAAO;YAAE,SAAS;YAAgB,QAAQ;QAAU;IACxD,EAAE,OAAO,OAAO;QACZ,OAAO;YAAE,SAAS;YAAwB,QAAQ;QAAQ;IAC9D;AACJ;;;IA3DsB;IAiCA;;AAjCA,+OAAA;AAiCA,+OAAA","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/peibo/Desktop/threadhub/frontend/.next-internal/server/app/threads/%5Bid%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {addReplyAction as '605a28f58acaa3ede408884c1c1e17c77c65c3b0eb'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/peibo/Desktop/threadhub/frontend/src/components/threads/ThreadView.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ThreadView = registerClientReference(\n    function() { throw new Error(\"Attempted to call ThreadView() from the server but ThreadView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/threads/ThreadView.tsx <module evaluation>\",\n    \"ThreadView\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,uEACA","debugId":null}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/peibo/Desktop/threadhub/frontend/src/components/threads/ThreadView.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ThreadView = registerClientReference(\n    function() { throw new Error(\"Attempted to call ThreadView() from the server but ThreadView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/threads/ThreadView.tsx\",\n    \"ThreadView\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,mDACA","debugId":null}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/peibo/Desktop/threadhub/frontend/src/app/threads/%5Bid%5D/page.tsx"],"sourcesContent":["import { getThreadById, getCurrentUser } from '@/lib/data';\nimport { notFound } from 'next/navigation';\nimport { ThreadView } from '@/components/threads/ThreadView';\n\nexport default async function ThreadPage({ params }: { params: { id: string } }) {\n  const thread = await getThreadById(params.id);\n  const currentUser = await getCurrentUser();\n\n  if (!thread) {\n    notFound();\n  }\n\n  return (\n    <div className=\"container mx-auto max-w-4xl px-4 py-8\">\n      <ThreadView thread={thread} currentUser={currentUser} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;;AAEe,eAAe,WAAW,EAAE,MAAM,EAA8B;IAC7E,MAAM,SAAS,MAAM,CAAA,GAAA,kHAAA,CAAA,gBAAa,AAAD,EAAE,OAAO,EAAE;IAC5C,MAAM,cAAc,MAAM,CAAA,GAAA,kHAAA,CAAA,iBAAc,AAAD;IAEvC,IAAI,CAAC,QAAQ;QACX,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,2IAAA,CAAA,aAAU;YAAC,QAAQ;YAAQ,aAAa;;;;;;;;;;;AAG/C","debugId":null}}]
}